#!/bin/bash
# TODO:
# + Steps:
# 1. Keep some columns [X]
#   1. name
#   2. stream label
#   3. stream data from n to m
# 2. get the rows base on the name [X] @Current
#   grep regular expression ??
#   or awk??
#   -> awk it is
# 3. write the rows into a file with the file name as the name
# 4. Remove the name column
#
#
#Delete some columns of the all_1100.csv
#cut -d "," --complement -f 2,3,5,6 ./all_1100.csv >something.csv
#
# input_file="./something.csv"
# while IFS=, read -r col1 rest; do
# 	# Append the current line to a file named after the first column value
# 	echo "$col1,$rest" >>"${col1}.csv"
# done <"$input_file"

input_file="./something.csv" # Replace with your input file name
#metadata_file="./oledata/test/file_status_streams.csv"

# Initialize a dictionary to keep track of 0_or_1 values for each file
declare -A file_status

# Read the input file line by line
while IFS=, read -r col2 rest; do
	# Append the current line to a file named after the first column value
	echo "$rest" >>"./oledata/test/file_status_something.csv"
done <"$input_file"

# # Write the metadata file
# >"$metadata_file" # Clear the metadata file before writing
# for filename in "${!file_status[@]}"; do
# 	echo "${filename}.csv,${file_status[$filename]}" >>"$metadata_file"
# done
